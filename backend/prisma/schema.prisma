generator client {
	provider = "prisma-client-js"
}
datasource db {
	provider = "sqlite"
	url      = env("DATABASE_URL")
}

enum Status {
	TODO
	IN_PROGRESS
	DONE
	TRASH
}
enum Priority {
	LOW
	MEDIUM
	HIGH
}

model User {
	id           String   @id @default(cuid())
	email        String   @unique
	passwordHash String
	name         String?
	createdAt    DateTime @default(now())
	tasks        Task[]
}

model Task {
	id          String   @id @default(cuid())
	title       String
	description String?
	dueDate     DateTime?
	createdAt   DateTime  @default(now())
	updatedAt   DateTime  @updatedAt
	status      Status    @default(TODO)
	priority    Priority  @default(MEDIUM)
	notes       String?
	steps       Step[]
	userId      String
	user        User     @relation(fields: [userId], references: [id])
}

model Step {
	id        String   @id @default(cuid())
	title     String
	done      Boolean  @default(false)
	task      Task     @relation(fields: [taskId], references: [id])
	taskId    String
	createdAt DateTime @default(now())
	updatedAt DateTime @updatedAt
}
